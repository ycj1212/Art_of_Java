# **Art_of_Java**

## **3. Implementing Language Interpreters in Java**

당신의 컴퓨터 언어를 생성하기를 원했던 적이 있는가?
만약 당신이 대부분의 프로그래머 같다면, 당신은 아마도 가지고 있을 것이다.
솔직히, 당신의 컴퓨터 언어를 생성, 제어, 향상, 그리고 수정할 수 있게 되는 생각은 매우 매력적이다.
그러나, 그것이 얼마나 쉽고 즐거울 수 있는지를 깨닫는 프로그래머는 거의 없다.
자바와 같이 완전한 기능을 갖춘 컴파일러의 개발이 주요 사업이지만, 언어 인터프리터의 생성이 더 간단한 작업이다.

인터프리터와 컴파일러 둘 다 프로그램의 소스 코드를 입력함으로서 취해지지만, 그 소스 코드로 하는 일이 상당히 다르다.
컴파일러는 프로그램의 소스 코드를 실행 가능한 형식으로 변환한다.
종종, C++과 같은 언어 같은 경우로서, 이 실행 가능한 형식은 컴퓨터에 의해 직접적으로 실행되는 실제의 CPU명령어로 구성된다.
다른 경우에는, 컴파일러의 출력은 휴대용 중간 형식이고, 그 다음 런타임 시스템에 의해 실행된다.
이것은 자바의 작동 방식이다.
자바에서 이것의 중간 코드는 바이트 코드(bytecode)라 불린다.

인터프리터는 전혀 다른 방식으로 동작한다.
그것은 마주함으로써 각 문장을 실행하면서, 프로그램에 소스 코드를 읽는다.
그러므로, 인터프리터는 소스 코드를 객체 코드로 번역하지 않는다.
대신에, 인터프리터는 직접 프로그램을 실행한다.
인터프리터를 통해 프로그램 실행은 컴파일된 형식에서 같은 프로그램이 실행될 때보다 느리지만, 인터프리터는 다음 이유로 여전히 흔하게 프로그래밍에서 사용된다.

첫 번째, 그들은 프로그램 실행이 중지될 수 있고  사용자 대화 방식을 통해 재개될 수 있는 상호적 환경을 진정으로 제공할 수 있다.
예를 들면, 각 상호적 환경은 로봇 공학에서 도움이 된다.
두 번째, 언어 인터프리터의 성격 때문에, 그들은 특히 상호적인 디버깅에 적합하다.
세 번째, 인터프리터는 데이터베이스에 쿼리 언어로서 "스크립트 언어"에 훌륭하다.
네 번째, 그들은 같은 프로그램이 다른 다양한 플랫폼에서 실행하는 것을 허락한다.
오직 인터프리터의 런타임 패키지는 각 새로운 환경으로 구현되어야 한다.

때때로 interpreter 용어는 단지 규정되는 것보다 다른 상황에서 사용된다.
예를 들면, 기존 자바 런타임 시스템은 bytecode interpreter 라고 불렸다.
이것은 이 장에서 개발된 인터프리터의 같은 타입이 아니다.
자바 런타임 시스템은 바이트 코드를 위한 실행 환경을 제공하고, 휴대용 기계 명령어의 집합으로 매우 최적화 된다.
그러므로, 자바 런타임 시스템은 소스 코드에서 작동하지 않고, 휴대용 기계 코드에서 동작한다.
이것은 자바 런타임 시스템이 자바 가상 기계(Java Virtual Machine)라 불리는 이유이다.

흥미있고 유용한 코드 조각이 되는 것에 더하여, 이 장에서 개발된 인터프리터는 두 개의 목적을 제공한다:
능률한 자바 언어의 우아함을 입증한다.
2장에서 파서처럼, 언어 인터프리터는 "pure code" 예시이다.
그것은 또한 상당히 세련된 프로그램이다.
자바에서 인터프리터가 구현될 수 있는 것에 의한 그 쉬움은 증거testimony를 자바의 다재다능으로 준다.
게다가, 그 코드의 투명함은 자바 문법과 라이브러리의 표현적인 힘을 보여준다.

### What Computer Language to Interpret?

우리가 인터프리터를 설계할 수 있기 전에, 우리가 통역을 원하는 언어를 선택하는 것이 필수이다.
자바가 명백한 선택으로 보이지만, 너무 크고 세련된 언어이다.
자바 언어의 작은 하위 집합에 인터프리터를 위한 그 소스 코드는 이 책의 한 챕터로 맞춰지는 것이 꽤 크게 될 것이다!
게다가, 당신은 일반적으로 자바만큼 강력한 언어로 인터프리터를 작성하는 것이 필요하지 않다.



중간 생략



PRINT "A Simple Small BASIC Program"

FOR X = 1 TO 10
GOSUB 100
NEXT

END

100 PRINT X
RETURN

프로그램은 다음의 출력을 소개한다:
A Simple Small BASIC Program
1.0
2.0
3.0
4.0
5.0
6.0
7.0
8.0
9.0
10.0

비록 Small BASIC 키워드들이 의미하는 것이 거의 직관적일지라도, 이 장에서 나중에 각각 충분히 설명된다.
마지막 한 포인트 : Small BASIC은 몇 년 전에, Visual Basic이 아니라, BASIC의 기본 버전의 본을 따라 패턴이 형성되었다.
Visual Basic은 매우 흔하지 않은 기본 BASIC 언어를 가지고 있다.
물론, 당신이 어떻게 인터프리터가 작동하는지 이해한 때에, 어떤 언어나 당신이 열망하는 변종일지라도 당신은 그것을 인터프리터로 바꿀 수 있다.

### An Overview of the Interpreter

처음에는(at the outset) 이 장에서 개발된 인터프리터가 소스 코드 인터프리터(source code interpreter)라는 것을 다시 강조하는 것이 필수적이다.
이것은 그것이 한 번에 한 문장씩 소스 코드를 읽으면서 프로그램을 실행하고, 그것을 실행하므로써 각 특정한 연산자를 수행하는 것을 의미한다.
이것은 바이트 코드를 분석하는 기본 자바 런타임 시스템과 같은 pseudo-code interpreter 와 다르다.
그 차이는 소스 코드 인터프리터가 프로그램의 소스코드에서 직접적으로 수행한다.
pseudo-code interpreter 는 컴파일러에 의해 기계 독립적인 중간 코드로 변환된 후에 프로그램을 실행한다.
소스 코드 인터프리터는 생성하는게 쉽고, 독립된 편집 공간을 요구하지 않는다.

Small BASIC 인터프리터는 두 개의 주된 하위시스템을 포함한다:
수식 파서는 숫자 식을 다루고, 인터프리터는 실제로 프로그램을 실행한다.
그 수식 파서는 챕터2에 보여지는 한가지로부터 적용된다.
그것이 여기 사용되면서, 그것은 수식 파서를 분석한다.